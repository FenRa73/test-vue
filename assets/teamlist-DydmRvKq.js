import{_ as g,V as h,a as f,b as y,c as T,d as V,e as P,f as k,g as C}from"./Footer-DU-Ar_c4.js";import{_ as d,V as b}from"./VAlert-CN04Tz1w.js";import{c as l,a as r,b as i,w as m,F as c,o,d as x,t as w,r as L}from"./index-BkiXCYIf.js";const Q={components:{Card:d},data(){return{page:1,itemsPerPage:12,teams:[],searchQuery:"",isLoading:!1}},computed:{totalPages(){return Math.ceil(this.filteredTeams.length/this.itemsPerPage)},paginatedTeams(){const e=(this.page-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredTeams.slice(e,t)},filteredTeams(){if(!this.searchQuery)return this.teams;const e=this.searchQuery.toLowerCase();return this.teams.filter(t=>t.name.toLowerCase().includes(e))}},mounted(){this.loadTeams()},methods:{onSearchInput(){this.page=1},loadTeams(){this.isLoading=!0,T.get("api/v4/teams").then(e=>this.teams=e.data.teams).catch(e=>console.error(e)).finally(()=>this.isLoading=!1)},goToTeam(e){this.$router.push(`/team/?id=${e.id}`)}}},I={class:"mt-2"};function v(e,t,p,u,s,n){const _=d;return o(),l("div",I,[r(h,{modelValue:s.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>s.searchQuery=a),class:"mb-4","max-width":"50%",label:"Поиск по названию команды",outlined:"","prepend-inner-icon":"mdi-magnify",onInput:n.onSearchInput},null,8,["modelValue","onInput"]),s.isLoading?(o(),i(V,{key:0,class:"d-block mx-auto my-8",color:"primary",indeterminate:""})):n.filteredTeams.length===0?(o(),i(b,{key:1,class:"ma-4",type:"info"},{default:m(()=>[x(w(s.searchQuery?"Ничего не найдено":"Нет доступных команд"),1)]),_:1})):(o(),l(c,{key:2},[r(f,null,{default:m(()=>[(o(!0),l(c,null,L(n.paginatedTeams,a=>(o(),i(P,{key:a.id,cols:"12",lg:"3",md:"4",sm:"6"},{default:m(()=>[r(_,{id:a.id,emblem:a.crest,name:a.name,league:a.website,onHandleCardClick:n.goToTeam},null,8,["id","emblem","name","league","onHandleCardClick"])]),_:2},1024))),128))]),_:1}),r(y,{modelValue:s.page,"onUpdate:modelValue":t[1]||(t[1]=a=>s.page=a),class:"mt-4",length:n.totalPages,"total-visible":7},null,8,["modelValue","length"])],64))])}const F=g(Q,[["render",v],["__scopeId","data-v-5964f9d7"]]),M={__name:"teamlist",setup(e){return(t,p)=>{const u=k,s=F,n=C;return o(),l(c,null,[r(u),r(s),r(n)],64)}}};export{M as default};
