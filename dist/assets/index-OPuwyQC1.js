import{_ as m,V as _}from"./VAlert-C1ZlNoXG.js";import{_ as h,V as f,a as L,b as y,c as V,d as P,e as b,f as k,g as x}from"./Footer-3rA6vRci.js";import{c as l,a as o,b as i,w as u,F as c,o as n,d as C,t as w,r as Q}from"./index-CBQSq2YF.js";const I={components:{Card:m},data(){return{page:1,itemsPerPage:12,leagues:[],searchQuery:"",isLoading:!1}},computed:{totalPages(){return Math.ceil(this.filteredLeagues.length/this.itemsPerPage)},paginatedLeagues(){const e=(this.page-1)*this.itemsPerPage,a=e+this.itemsPerPage;return this.filteredLeagues.slice(e,a)},filteredLeagues(){if(!this.searchQuery)return this.leagues;const e=this.searchQuery.toLowerCase();return this.leagues.filter(a=>a.name.toLowerCase().includes(e))}},mounted(){this.loadLeagues()},methods:{onSearchInput(){this.page=1},loadLeagues(){this.isLoading=!0,V.get("api/v4/competitions").then(e=>this.leagues=e.data.competitions).catch(e=>console.error(e)).finally(()=>this.isLoading=!1)},goToLeague(e){this.$router.push(`/league/?id=${e.id}`)}}},T={class:"mt-2"};function v(e,a,g,d,s,r){const p=m;return n(),l("div",T,[o(f,{modelValue:s.searchQuery,"onUpdate:modelValue":a[0]||(a[0]=t=>s.searchQuery=t),class:"mb-4","max-width":"50%",label:"Поиск по названию лиги",outlined:"","prepend-inner-icon":"mdi-magnify",onInput:r.onSearchInput},null,8,["modelValue","onInput"]),s.isLoading?(n(),i(P,{key:0,class:"d-block mx-auto my-8",color:"primary",indeterminate:""})):r.filteredLeagues.length===0?(n(),i(_,{key:1,class:"ma-4",type:"info"},{default:u(()=>[C(w(s.searchQuery?"Ничего не найдено":"Нет доступных лиг"),1)]),_:1})):(n(),l(c,{key:2},[o(L,null,{default:u(()=>[(n(!0),l(c,null,Q(r.paginatedLeagues,t=>(n(),i(b,{key:t.id,cols:"12",lg:"3",md:"4",sm:"6"},{default:u(()=>[o(p,{id:t.id,emblem:t.emblem,league:t.area.name,name:t.name,onHandleCardClick:r.goToLeague},null,8,["id","emblem","league","name","onHandleCardClick"])]),_:2},1024))),128))]),_:1}),o(y,{modelValue:s.page,"onUpdate:modelValue":a[1]||(a[1]=t=>s.page=t),class:"mt-4",length:r.totalPages,"total-visible":7},null,8,["modelValue","length"])],64))])}const B=h(I,[["render",v],["__scopeId","data-v-c5302e8b"]]),M={__name:"index",setup(e){return(a,g)=>{const d=k,s=B;return n(),l(c,null,[o(d),o(s),o(x)],64)}}};export{M as default};
